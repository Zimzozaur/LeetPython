# https://leetcode.com/problems/house-robber-iii/
from typing import Optional
from Binary_Tree.TreeNode import TreeNode
from Binary_Tree.tree_generator import tree_generate
from collections import deque


class Solution:
    def rob(self, root: Optional[TreeNode]) -> int:
        vals = []
        queue = deque([root])
        while queue:
            for i in range(len(queue)):
                node = queue.popleft()
                vals.append(node.val)
                if node.left:
                    queue.append(node.left)
                if node.right:
                    queue.append(node.right)
            
        rob1, rob2 = 0, 0
        for val in vals:
            temp = max(val + rob1, rob2)
            rob1 = rob2
            rob2 = temp

        return rob2



if __name__ == '__main__':
    sol = Solution()
    arr = [498, 819, 800, 774, 348, 243, 246, 638, 959, 724, 746, 658, 842, 649, 132, 761, 237, 780, 338, 220, 793, 35, 679, 524, 648, 225, 166, 414, 830, 288, 661, 333, 847, 554, 58, 673, 533, 495, 363, 37, 577, 932, 414, 518, 800, 951, 784, 114, 450, 870, 129, 622, 708, 638, 896, 167, 851, 411, 316, 420, 230, 648, 738, 636, 28, 559, 300, 939, 655, 477, 645, 624, 404, 464, 678, 721, 223, 487, 970, 171, 875, 906, 837, 632, 97, 211, 152, 645, 567, 916, 141, 122, 464, 2, 125, 273, 200, 433, 217, 168, 42, 460, 452, 526, 948, 95, 972, 93, 874, 845, 253, 870, 712, 67, 364, 579, 624, 242, 171, 511, 409, 469, 933, 64, 157, 264, 442, 198, 29, 501, 209, 926, 866, 451, 774, 294, 142, 948, 643, 733, 464, 112, 704, 713, 737, 746, 690, 672, 309, 253, 766, 586, 392, 396, 468, 204, 886, 887, 149, 267, 177, 429, 13, 452, 489, 889, 634, 538, 785, 913, 235, 704, 8, 153, 364, 623, 316, 496, 855, 319, 453, 75, 202, 526, 640, 188, 807, 808, 788, 3, 947, 884, 844, 924, 692, 983, 951, 679, 605, 405, 523, 367, 435, 137, 777, 688, 820, 810, 319, 820, 937, 839, 155, 49, 194, 1, 936, 248, 889, 108, 138, 329, 478, 473, 811, 630, 836, 729, 657, 310, 814, 869, 175, 416, 12, 491, 605, 959, 586, 540, 393, 160, 831, 165, 515, 479, 633, 162, 22, 336, 797, 569, 897, 536, 874, 550, 608, 205, 823, 426, 255, 784, 643, 967, 932, 821, 840, 1000, 910, 687, 214, 790, 971, 637, 795, 871, 427, 250, 438, 869, 963, 579, 217, 356, 570, 821, 614, 269, 712, 294, 249, 465, 40, 34, 849, 586, 852, 470, 555, 201, 4, 49, 11, 171, 140, 851, 57, 292, 805, 872, 178, 877, 641, 622, 877, 817, 800, 522, 485, 210, 966, 156, 111, 957, 714, 346, 28, 10, 766, 75, 178, 973, 735, 925, 298, 190, 787, 593, 423, 560, 448, 514, 519, 376, 540, 802, 987, 129, 905, 710, 161, 461, 16, 328, 44, 876, 337, 634, 966, 900, 493, 577, 479, 843, 998, 954, 822, 24, 552, 837, 316, 953, 694, 506, 145, 867, 719, 336, 627, 145, 528, 415, 423, 219, 481, 746, 556, 785, 17, 911, 696, 54, 943, 146, 649, 383, 901, 783, 362, 566, 569, 391, 305, 891, 991, 929, 538, 705, 118, 518, 232, 527, 55, 979, 276, 551, 793, 470, 774, 842, 937, 207, 343, 242, 901, 554, 265, 838, 289, 220, 968, 293, 627, 981, 54, 235, 492, 98, 469, 769, 1000, 692, 690, 890, 535, 21, 99, 226, 839, 426, 109, 534, 487, 959, 338, 921, 740, 914, 398, 194, 98, 800, 515, 675, 350, 794, 649, 596, 894, 426, 153, 430, 519, 571, 227, 807, 338, 162, 32, 701, 623, 939, 51, 598, 334, 636, 55, 307, 509, 778, 384, 565, 620, 361, 638, 155, 176, 106, 494, 711, 328, 941, 443, 694, 435, 830, 386, 936, 655, 81, 777, 15, 404, 465, 50, 622, 899, 636, 482, 337, 228, 278, 86, 138, 24, 902, 894, 640, 986, 904, 162, 726, 53, 492, 614, 185, 859, 708, 705, 395, 740, 471, 667, 446, 380, 642, 674, 746, 554, 953, 28, 121, 877, 997, 532, 409, 515, 160, 255, 73, 492, 59, 508, 328, 705, 957, 893, 790, 103, 416, 665, 473, 833, 340, 300, 720, 617, 575, 897, 87, 286, 315, 430, 650, 606, 691, 440, 647, 75, 2, 465, 444, 387, 789, 801, 252, 966, 808, 52, 591, 846, 805, 795, 33, 253, 395, 322, 282, 20, 51, 228, 881, 996, 5, 262, 786, 141, 522, 924, 831, 108, 241, 248, 504, 938, 870, 400, 301, 433, 883, 729, 440, 623, 706, 989, 415, 216, 217, 989, 471, 847, 272, 291, 742, 344, 593, 196, 760, 633, 507, 628, 982, 350, 235, 436, 174, 297, 276, 353, 474, 723, 450, 447, 677, 398, 259, 119, 101, 113, 568, 131, 127, 529, 170, 536, 635, 143, 829, 499, 159, 277, 993, 897, 589, 501, 408, 256, 958, 454, 567, 384, 617, 97, 797, 7, 728, 925, 22, 148, 58, 272, 16, 822, 95, 304, 117, 917, 497, 279, 425, 464, 706, 20, 837, 66, 475, 138, 445, 884, 994, 387, 455, 327, 860, 882, 870, 746, 499, 24, 662, 746, 883, 97, 816, 655, 434, 149, 162, 664, 203, 662, 901, 540, 174, 60, 960, 12, 778, 408, 454, 976, 953, 215, 518, 966, 346, 152, 94, 812, 249, 225, 524, 66, 115, 535, 958, 212, 679, 607, 934, 55, 967, 638, 712, 219, 554, 863, 154, 789, 856, 306, 125, 505, 797, 171, 244, 392, 285, 801, 599, 316, 969, 140, 93, 283, 104, 810, 444, 200, 542, 80, 528, 715, 469, 452, 51, 121, 941, 949, 430, 843, 143, 331, 572, 960, 759, 519, 859, 855, 311, 655, 669, 999, 877, 809, 321, 315, 715, 18, 341, 609, 528, 552, 946, 15, 788, 848, 215, 101, 646, 113, 930, 474, 384, 28, 119, 791, 159, 275, 66, 6, 262, 307, 441, 432, 702, 680, 253, 605, 806, 831, 88, 740, 80, 31, 976, 924, 595, 457, 147, 949, 274, 920, 693, 545, 412, 856, 132, 457, 112, 183, 379, 123, 605, 225, 428, 19, 458, 784, 485, 335, 793, 803, 1000, 675, 717, 755, 697, 936, 702, 547, 234, 181, 262, 587, 854, 549, 69, 591, 138, 881, 632, 217, 228, 115, 697, 565, 809, 569, 923, 645, 706, 799, 86, 887, 109, 266, 52, 309, 625, 476, 625, 216, 677, 971, 948, 559, 803, 310, 183, 344, 55, 771, 551, 51, 901, 67, 799, 252, 654, 988, 204, 761, 860, 15, 768, 316, 348, 528, 524, 287, 47, 854, 237, 779, 923, 165, 658, 373, 48, 883, 617, 773, 657, 399, 558, 439, 34, 373, 813, 552, 169, 666, 96, 624, 392, 795, 271, 631, 882, 567, 174, 287, 245, 469, 817, 847, 646, 904, 971]
    tree = tree_generate(arr)
    res = sol.rob(tree)
    print(res)
